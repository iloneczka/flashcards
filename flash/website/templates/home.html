{% extends 'base.html' %}

{% block 'content' %}

{% if request.user.is_authenticated %}
  <div class="alert alert-success" role="alert">
    You are logged in!
  </div>
  <p>Welcome, {{ request.user.username }}</p>
  <a href="{% url 'logout' %}" class="btn btn-danger">Log out</a>
  <a href="{% url 'boxes' %}" class="btn btn-primary">START THE FLASHCARDS APP</a>
{% else %}
  <br/>
  <form method="POST" action="{% url 'boxes' %}">
    {% csrf_token %}
    <div class="mb-3">
      <label for="exampleInputEmail1" class="form-label">Username</label>
      <input type="text" name="username" class="form-control" id="exampleInputEmail1" aria-describedby="emailHelp" required>
      <div id="emailHelp" class="form-text">Write your login here.</div>
    </div>
    <div class="mb-3">
      <label for="exampleInputPassword1" class="form-label">Password</label>
      <input type="password" name="password" class="form-control" id="exampleInputPassword1" required>
    </div>
    <button type="submit" class="btn btn-primary">Submit</button>
  </form>

  {% if request.method == 'POST' and not form.is_valid %}
    <div class="alert alert-danger mt-3">
      Both fields are required.
    </div>
  {% endif %}
  <br/>
  <p>If you don't have an account, please register:</p>
  <a href="{% url 'signup' %}" class="btn btn-success">Sign Up</a>
{% endif %}
</html>
{% endblock %}
